(this["webpackJsonpcall-me"]=this["webpackJsonpcall-me"]||[]).push([[0],{10:function(e,t,n){e.exports=n(16)},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(15);var l=n(5),c=n(6),s=n(9),d=n(1),u=n(2),m=n(4),h=n(3),p="https://protected-springs-58152.herokuapp.com/addressbookservice/contacts/",g=function(){return fetch(p).then((function(e){return e.json()}))},b=function(e){return function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)};return fetch(e,n)}(p,e).then((function(e){return e.json()}))},f=function(e){return fetch(p+e,{method:"DELETE"}).then((function(e){return e.json()}))},E=function(e,t){return function(e,t){return console.log(e),fetch(e,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))}(p+t,e)},y={body:{fontFamily:'"Special Elite", cursive',minHeight:"100vh",backgroundColor:"#E0E0E0",display:"flex",flexDirection:"column",padding:20},centerTitle:{backgroundColor:"#8d8d8d",paddingTop:40,height:80,width:"100%",textAlign:"center"},main:{backgroundColor:"#E0E0E0",display:"flex",height:500,justifyContent:"center",alignItems:"center"},form:{height:400,width:400,backgroundColor:"#eeeeee",borderRadius:8,boxShadow:"2px 2px 10px #1e1e1e",justifyContent:"center",alignItems:"center"},table:{border:"1px solid white",boxShadow:"2px 2px 10px #1e1e1e",textAlign:"center"},tableTr:{border:"2px solid black",textAlign:"center"}},v=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={error:!1,inputText:""},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onChangeProps,a=t.regex,r=t.errorText,i=t.placeholder,l=t.nameProp,c=t.value;return o.a.createElement("div",{style:{color:"black",width:"100%",padding:10,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",fontFamily:'"Special Elite", cursive'}},o.a.createElement("input",Object.assign({},this.props,{name:l,value:c,type:"text",placeholder:i,onChange:n,onBlur:function(t){e.setState({error:!a.test(t.target.value),inputText:t.target.value})},style:{width:"80%",border:"none",height:30,fontFamily:'"Special Elite", cursive',borderBottom:"1px solid #000"}})),this.state.error?o.a.createElement("span",{style:{color:"#ba2d65",fontSize:12,marginTop:5}},r):null)}}]),n}(a.Component),x=function(e){var t=e.bg,n=(e.onClickProp,e.title),a=e.isDisable;return o.a.createElement("div",null,o.a.createElement("button",{type:"submit",disabled:a,style:{width:120,height:40,backgroundColor:t,fontFamily:'"Special Elite", cursive',borderColor:t,borderRadius:4,marginBottom:18,marginTop:10}},n))},C=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={showMsg:!1},e.onChangeHandle=function(t){var n=t.target.name,a=t.target.value;e.props.changeItemsProps({nam:n,val:a})},e.handleSubmitForm=function(t){t.preventDefault(),e.props.editMode?e.props.handleUpdate():e.props.handleSignIn()},e.myBtnClick=function(){e.setState({username:e.state.username,showMsg:!0})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=""===this.props.item.username||""===this.props.item.email||""===this.props.item.phone;return o.a.createElement("form",{style:y.form,onSubmit:this.handleSubmitForm},o.a.createElement("h2",{style:{textAlign:"center"}},this.props.editMode?"Update":"New Contact"),o.a.createElement(v,{nameProp:"username",placeholder:"Username",regex:/^[a-z0-9]{2,}$/,errorText:"username cannot include space",value:this.props.item.username,onChangeProps:this.onChangeHandle}),o.a.createElement(v,{nameProp:"email",placeholder:"Email",regex:/^[a-z0-9]{3,}@[2-z]{2,}\.[a-z]{2,4}$/i,errorText:"invalid E-mail format",value:this.props.item.email,onChangeProps:this.onChangeHandle}),o.a.createElement(v,{nameProp:"phone",placeholder:"Phone No.",regex:/^07[0-9]{9}$/,errorText:"invalid Mobile Number format",value:this.props.item.phone,onChangeProps:this.onChangeHandle}),o.a.createElement("div",{style:S},o.a.createElement(x,{title:this.props.editMode?"Update":"Submit",bg:"#bdbdbd",isDisable:e}),this.state.showMsg?o.a.createElement("span",null," added to Address Book"):null))}}]),n}(a.Component),S={display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",marginTop:10},k=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).initialItem={username:"",email:"",phone:""},e.state={item:e.initialItem,list:[],editMode:!1,selectedItemIndex:null},e.getContacts=function(){return g().then((function(t){return e.setState({list:t.data})}))},e.handleSignIn=function(){b(e.state.item).then((function(e){console.log(e)})),e.setState({list:[].concat(Object(s.a)(e.state.list),[e.state.item]),item:e.initialItem,editMode:!1})},e.handleUpdate=function(t){console.log(t);var n=t._id;console.log(n),e.state.list[e.state.selectedItemIndex]=e.state.item,e.setState({item:e.initialItem,editMode:!1}),E(t,n).then((function(){e.getContacts()}))},e.handleDelete=function(t){var n=e.state.list.filter((function(e){return e!==t}));console.log("click"),e.setState({list:n})},e.handleDeleteAPI=function(t){f(t.username).then((function(t){t.status&&e.getContacts()}))},e.handleEdit=function(t,n){console.log(t._id),console.log("click"),e.setState({item:t,editMode:!0,selectedItemIndex:n})},e.changeItemsProps=function(t){var n=t.nam,a=t.val,o=Object(c.a)(Object(c.a)({},e.state.item),{},Object(l.a)({},n,a));e.setState({item:o})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.getContacts()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:y.body},o.a.createElement("div",{style:y.centerTitle},o.a.createElement("h1",null,"Address Book")),o.a.createElement("div",{style:y.main},o.a.createElement(C,{handleSignIn:this.handleSignIn,item:Object(c.a)({},this.state.item),changeItemsProps:this.changeItemsProps,editMode:this.state.editMode,handleUpdate:function(){return e.handleUpdate(e.state.item)}})),o.a.createElement("div",null,"contacts:"),this.state.list.length>0?o.a.createElement("table",{style:y.table},o.a.createElement("thead",null,o.a.createElement("tr",{style:y.tableTr},o.a.createElement("th",{style:j},"USERNAME"),o.a.createElement("th",{style:j},"EMAIL ADDRESS"),o.a.createElement("th",{style:j},"PHONE NUMBER"),o.a.createElement("th",{style:w}))),this.state.list.map((function(t,n){return o.a.createElement("tbody",null,o.a.createElement("tr",{key:t.index,style:y.tableTr},o.a.createElement("td",{style:I},t.username),o.a.createElement("td",{style:I},t.email),o.a.createElement("td",{style:I},t.phone),o.a.createElement("td",{style:I},o.a.createElement("button",{onClick:function(){return e.handleEdit(t,n)},style:T},"EDIT"),o.a.createElement("button",{onClick:function(){return e.handleDeleteAPI(t)},style:O},"DELETE"))))}))):null)}}]),n}(a.Component),j={width:"27%",border:"none",height:30,fontFamily:'"Special Elite", cursive',borderBottom:"1px solid #000",backgroundColor:"white"},w={width:"19%",border:"none",height:30,fontFamily:'"Special Elite", cursive',borderBottom:"1px solid #000",backgroundColor:"white"},I={border:"none",height:40,borderBottom:"1px solid #000",backgroundColor:"#bdbdbd"},O={padding:8,width:"40%",fontFamily:'"Special Elite", cursive',backgroundColor:"#8d8d8d",border:"none",borderRadius:4,marginLeft:6},T={padding:8,width:"40%",fontFamily:'"Special Elite", cursive',backgroundColor:"#E0E0E0",border:"none",borderRadius:4,marginRight:6};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.3e466a24.chunk.js.map